var S=document.querySelector(".main-header__toggle"),e=document.querySelector(".main-header__submenu"),o=e.querySelector(".submenu__info"),n=e.querySelector(".submenu__list"),a=e.querySelector(".categories__nested--catalog"),v=e.querySelector(".categories__link--catalog"),s=document.querySelector(".main-header__wrapper"),t=s.querySelector(".lang"),l=document.createElement("li");l.classList.add("main-nav__item");var b=s.querySelector(".main-header__contacts"),c=document.querySelector(".main-nav__list"),r=document.querySelector(".contacts"),d=document.createElement("li");d.classList.add("main-nav__item");var m=e.querySelector(".categories"),h=()=>{window.pageYOffset>200?(s.classList.add("main-header__wrapper--hidden"),e.classList.add("main-header__submenu--hidden"),c.style.alignItems="center"):(s.classList.remove("main-header__wrapper--hidden"),e.classList.remove("main-header__submenu--hidden"),c.style.alignItems="start")},E=i=>{i.preventDefault(),window.innerWidth>=1440?a.classList.toggle("categories__nested--show"):(a.classList.remove("categories__nested--show"),e.classList.toggle("main-header__submenu--show"))};S.addEventListener("click",E);var p=i=>{i.preventDefault();let u=i.target.closest(".categories__item"),_=u.querySelector(".categories__nested");_.classList.add("categories__nested--show"),o.classList.add("visually-hidden"),n.classList.add("visually-hidden");let L=g=>{g.stopPropagation(),g.target.removeEventListener("click",L),_.classList.remove("categories__nested--show"),m.querySelectorAll(".categories__nested--show").length||(o.classList.remove("visually-hidden"),n.classList.remove("visually-hidden"))};u.querySelector(".categories__btn").addEventListener("click",L)},w=()=>{a.classList.remove("categories__nested--show")},q=()=>{s.classList.add("submenu"),s.append(n),r.classList.remove("submenu__contacts-list"),d.append(r),c.append(d),t.classList.remove("main-header__lang"),t.classList.add("main-nav__lang"),l.append(t),c.append(l),o.classList.remove("visually-hidden"),n.classList.remove("visually-hidden"),v.classList.add("visually-hidden"),a.addEventListener("mouseout",w),m.removeEventListener("click",p),window.addEventListener("scroll",h)},k=()=>{s.classList.remove("submenu"),e.append(n),r.classList.add("submenu__contacts-list"),o.append(r),t.classList.add("main-header__lang"),t.classList.remove("main-nav__lang"),s.insertBefore(t,b),v.classList.remove("visually-hidden"),a.removeEventListener("mouseout",w),m.addEventListener("click",p),window.removeEventListener("scroll",h)},y=()=>{window.innerWidth>=1440?q():k()};y();window.addEventListener("resize",y);
